knitr::opts_chunk$set(echo = TRUE)
options(scipen = 10000,digits = 3)
class(cars) #cars的类型
names(cars)
head(cars)
options(scipen = 10000,digits = 3)
class(cars) #cars的类型
names(cars)
head(cars)
head(cars)
cars[c(2,5,6),]
cars
cars[,2]
cars[,c("dist")]
cars[,1]
cars[,"speed"]
cars[c(2,5,6),1]
cars[c(2,5,6),"speed"]
cars$speed[c(2,5,6)]
cars[c(2,5,6),2]
cars[c(2,5,6),"dist"]
cars$dist[c(2,5,6)]
set.seed(1)
ls1 <- list(A=rnorm(3),B=rnorm(5))
ls1
ls1[1]
ls1[[1]]
ls1["A"]
ls1[["A"]]
ls1$A
caars
class(cars)
names(cars)
?options
?scipen
head(cars)
?head
?seed
?set.seed
set.seed(1)
ls1 <- list(A=rnorm(3), B=rnorm(5))
ls1
seed(1)
set.seed(1)
ls1
ls1$B
ls1[[1]]
ls1[[1]][2]
hawkers <- readRDS("C:/Users/MSI/Desktop/Notes/ST5226-Spatial Statistics/Tut/onemap_hawker_ctr_raw.rds")
hawkers
hawkers <- readRDS("C:/Users/MSI/Desktop/Notes/ST5226-Spatial Statistics/Tut/onemap_hawker_ctr_raw.rds")
#注意读取文件时是使用符号"/"
length(hawkers)
str(hawkers[[1]],max.level = 1)
hawkers[[1]][[1]]
str(hawkers[[1]][[2]],max.level = 1)
hawkers <- readRDS("C:/Users/MSI/Desktop/Notes/ST5226-Spatial Statistics/Tut/onemap_hawker_ctr_raw.rds")
#注意读取文件时是使用符号"/"
hawkers
length(hawkers)
str(hawkers[[1]],max.level = 1)
hawkers[[1]][[1]]
str(hawkers[[1]][[2]],max.level = 1)
hawkers <- readRDS("C:/Users/MSI/Desktop/Notes/ST5226-Spatial Statistics/Tut/onemap_hawker_ctr_raw.rds")
#注意读取文件时是使用符号"/"
length(hawkers)
str(hawkers[[1]],max.level = 1)
hawkers[[1]][[1]]
str(hawkers[[1]][[2]],max.level = 1)
hw <- hawkers[[1]][-1]
length(hw)
str(hw[5])
str(hw[[5]])
str(hw[[5]],max.level = 1)
street_name <- sapply(hw, function(x) x$ADDRESSSTREETNAME)
length(street_name)
street_name[1:5]
hw <- hawkers[[1]][-1]
?[-1]
ls1 <- list(A=rnorm(3),B=rnorm(5))
ls1
ls2 <- ls1[[1]][-1]
ls2
ls1[[1]][-2]
hawkers[[1]]
hawkers[[1]][1]
hawkers[[1]][2]
hawkers[[1]][1]
hawkers[[1]][2]
hw <- hawkers[[1]][-1]
# hawkers[[1]][-1] 删除[[1]]中的第1个元素
length(hw)
str(hw[5])
str(hw[[5]])
str(hw[[5]],max.level = 1)
street_name <- sapply(hw, function(x) x$ADDRESSSTREETNAME)
length(street_name)
street_name[1:5]
hawkers[[1]][1]
hawkers[[1]][2]
hw <- hawkers[[1]][-1]
# hawkers[[1]][-1] 删除[[1]]中的第1个元素
length(hw)
str(hw[5])
str(hw[[5]])
str(hw[[5]],max.level = 1)
street_name <- sapply(hw, function(x) x$ADDRESSSTREETNAME)
length(street_name)
street_name[1:5]
hw[5]
hw[[5]]
str(hw)
str(hw[1])
str(hw[1], max.level = 1)
str(hw[1], max.level = 2)
str(hw[1], max.level = 3)
?sapply(list, function)
?sapply(list, function)
?sapply
street_name <- sapply(hw, function(x) x$ADDRESSSTREETNAME)
street_name
length(street_name)
street_name(1:10)
street_names(1:10)
street_name[1:10]
cars[1,]
cars[1][-1]
cars[1,][-1]
cars[1,][-2]
cars[1:10]
cars[c(1:10)]
cars[1:10,]
cars[1:10,][-2]
cars[1:10,][-'speed']
cars[1:10,][-"spped"]
cars[1:10,][-"speed"]
cars[1:10,][-dist]
cars[1:10,]["-dist"]
cars[1:10,]["-2"]
cars[1:10,][-2]
cars[1:10,][-1]
hawkers[[1]][1]
hawkers[[1]][2]
hw <- hawkers[[1]][-1]
# hawkers[[1]][-1] 删除[[1]]中的第1个元素
length(hw)
str(hw[5])
str(hw[[5]])
str(hw[[5]],max.level = 1)
street_name <- sapply(hw, function(x) x$ADDRESSSTREETNAME)
street_name
length(street_name)
street_name[1:5]
cars[1:3,]
# [-n]的用法
cars[1:3,][-1]
cars[1:3,][-2]
cars[c(2)]
cars[c(2,5)]
cars[c(2,5,6),1]
head(cars)
cars[c(2,5,6),] #提取数据框"cars"中的第2,5,6行元素
cars
cars[,2] # 提取"cars"中第2列"dist"的所有元素
cars[,c("dist")]
cars[,1] # 提取"cars"中第1列"speed"的所有元素
cars[,"speed"]
cars[c(2,5,6),1] #提取"cars"中的第2,5,6行的第1列"speed"元素
cars[c(2,5,6),"speed"]
cars$speed[c(2,5,6)] #从数据框"cars"中的"speed"列提取第2,5,6行元素
cars[c(2,5,6),2]#提取"cars"中的第2,5,6行的第2列"dist"元素
cars[c(2,5,6),"dist"]
cars$dist[c(2,5,6)]
?lm
library(sp)
getClass("Spatial")
m <- matrix(c(0,0,1,1), ncol=2,dimnames=list(NULL,c("min","max")))#定义一个坐标矩阵，即bbox
m
crs <- CRS(projargs = as.character(NA))#CRS=coordinate reference system(坐标参考系统)
crs
S <- Spatial(bbox = m, proj4string = crs)#projection(投影),CRS的类别class属于字符串，必须符合PROJ.4的字符串格式
#bbox=bounding box(边界),a matrix of numerical coordinates with column names
#(数字坐标的矩阵，表明这个空间数据覆盖的范围)
#CRS的类别class属于字符类，必须符合proj.4的字符串格式
S
summary(S)#Spatial objects包含两个成分(slots):bbx,CRS
x.mytrix <- matrix(1:6, nrow = 2, ncol = 3,dimnames = list(c("row1","row2"),c("col1","col2","col3")))
#dimnames
rownames(x.mytrix)
colnames(x.mytrix)
?cbind
CRAN_df <- read.table("C:/Users/MSI/Desktop/Notes/ST5226-Spatial Statistics/CRAN051001a.txt", header = T)
CRAN_df
CRAN_mat <- cbind(CRAN_df$long, CRAN_df$lat)
CRAN_mat
row.names(CRAN_mat) <- 1:nrow(CRAN_mat)
CRAN_mat
row.names(CRAN_mat)
CRAN_df
CRAN_sp <- SpatialPoints(CRAN_mat,proj4string = llCRS)
llCRS <- CRS("+proj=longlat+ellps=WGS84")
CRAN_sp <- SpatialPoints(CRAN_mat,proj4string = llCRS)
View(CRAN_sp)
View(CRAN_sp)
CRAN_sp
summary(CRAN_sp)
CRAN_sp
CRAN_df
brazil <- which(CRAN_df$loc == "Brazil")
brazil # index , the cities in Brazil
plot(CRAN_sp[brazil,], axes = TRUE, col = "blue", main = "CRAN Mirrors in Brazil")
